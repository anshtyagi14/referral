<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Employee Referral Portal - CyberArk</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&family=Montserrat:wght@100&family=Inconsolata:wght@400&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="header">
    <h1>Employee Referral Portal</h1>
  </header>

  <div class="container">
    <form
      id="referralForm"
      target="hidden_iframe"
      action="https://script.google.com/macros/s/AKfycbzyaDbiQAj1cKf2Dg9IUPIGMBoZOpB3aD9gHzr4Byr4vGvN9KqDpLmQqb8mMFROj2pzMA/exec"
      method="POST"
      enctype="application/x-www-form-urlencoded"
    >
      <!-- Hidden fields -->
      <input type="hidden" name="resumeBase64" id="resumeBase64" />
      <input type="hidden" name="resumeName" id="resumeName" />
      <input type="hidden" name="resumeType" id="resumeType" />
      <input type="hidden" name="fullName" id="fullName" />
      <input type="hidden" name="experienceDisplay" id="experienceDisplay" />
      <input type="hidden" name="phone" id="phoneHidden" />

      <!-- Personal Information -->
      <section class="form-section">
        <h2 class="section-title">Personal Information</h2>

        <div class="form-row">
          <div class="form-group">
            <label>First Name *</label>
            <input type="text" id="firstName" required />
          </div>

          <div class="form-group">
            <label>Middle Name</label>
            <input type="text" id="middleName" />
          </div>

          <div class="form-group">
            <label>Last Name *</label>
            <input type="text" id="lastName" required />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Email *</label>
            <input type="email" name="email" required />
          </div>

          <div class="form-group">
            <label>Phone *</label>
            <div class="phone-input">
              <span class="country-code">+91</span>
              <input type="tel" id="phoneInput" pattern="[6-9][0-9]{9}" maxlength="10" required />
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Postal Code *</label>
            <input type="text" id="postalCode" name="postalCode" maxlength="6" required />
            <small id="postalHelp" class="help-text"></small>
          </div>

          <div class="form-group">
            <label>City *</label>
            <input type="text" id="city" name="city" readonly required />
          </div>
        </div>
      </section>

      <!-- Professional Info -->
      <section class="form-section">
        <h2 class="section-title">Professional Information</h2>

        <div class="form-row">
          <div class="form-group">
            <label>Experience *</label>
            <div class="experience-input">
              <select id="expYears" required>
                <option value="">Years</option>
              </select>
              <select id="expMonths" required>
                <option value="">Months</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label>Job Role *</label>
            <select id="role" name="role" disabled required>
              <option value="">Select experience first</option>
            </select>
            <small id="roleHelp" class="help-text"></small>
          </div>
        </div>

        <div class="form-group full-width">
          <label>LinkedIn *</label>
          <input type="url" id="linkedinUrl" name="linkedinUrl" required />
          <small id="linkedinHelp" class="help-text"></small>
        </div>

        <div class="form-group full-width">
          <label>Resume (PDF only) *</label>
          <input type="file" id="resumeFile" accept=".pdf" required />
        </div>
      </section>

      <!-- Employment -->
      <section class="form-section">
        <h2 class="section-title">Employment Status</h2>

        <label>
          <input type="radio" name="employmentStatus" value="Employed" required /> Employed
        </label>
        <label>
          <input type="radio" name="employmentStatus" value="Serving Notice" /> Serving Notice
        </label>
        <label>
          <input type="radio" name="employmentStatus" value="Unemployed" /> Unemployed
        </label>
      </section>

      <!-- Message -->
      <div id="message" class="message"></div>

      <button type="submit" id="submitBtn" class="btn-submit">Submit Referral</button>
    </form>
  </div>

  <!-- Success Modal -->
  <div id="successModal" class="modal">
    <div class="modal-content">
      <div class="checkmark">âœ…</div>
      <h2>Referral Submitted!</h2>
      <button onclick="closeModal()" class="btn-close">Close</button>
    </div>
  </div>

  <!-- Hidden iframe (CORS FIX) -->
  <iframe name="hidden_iframe" style="display:none;"></iframe>

  <script src="script.js"></script>
</body>
</html>
